{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { auth } from \"../../firebase/firebase\";\n\nconst useAuth = () => {\n  _s();\n\n  const [user, setUser] = useState();\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n\n  const userAuthHandler = async (userHandler, email, password, nav) => {\n    setError(null);\n    setIsLoading(true);\n\n    try {\n      await userHandler(auth, email, password);\n      setIsLoading(false);\n      navigate(nav);\n    } catch (error) {\n      await setError(error.message); // alert(error.message);\n\n      setIsLoading(false);\n    }\n\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    const unsubscrib = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(null);\n      }\n    });\n    return unsubscrib;\n  }, []);\n  return {\n    user,\n    error,\n    isLoading,\n    userAuthHandler\n  };\n};\n\n_s(useAuth, \"8mgTXL8PyjxMdmKF+i/izZf5AnU=\", false, function () {\n  return [useNavigate];\n});\n\nexport default useAuth; //  const logOut= async() => {\n//   try {\n//         await signOut(auth)\n//         navigate('/login')\n//        }  catch(error)   {   setError(error.message)  }\n//  }\n// const signUp = async(email, password, name) => {\n//       try{\n//         await createUserWithEmailAndPassword(auth, email, password, name);\n//         navigate('/login')\n//        }   catch(error)  {\n//         setError(error.meaasge)\n//         alert(error.message)\n//         navigate('/register')\n//       }\n//   }\n// //   const signIn= async(email, password) => {\n// //     try {\n// //       await signInWithEmailAndPassword(auth, email, password);\n// //       navigate('/')\n// //       // setIsLogin(false);\n// //      }  catch(error) {\n// //         alert(error.message)\n// //       // setIsLogin(false);\n// //     }\n// // }","map":{"version":3,"names":["onAuthStateChanged","signOut","useEffect","useState","useNavigate","auth","useAuth","user","setUser","error","setError","isLoading","setIsLoading","navigate","userAuthHandler","userHandler","email","password","nav","message","unsubscrib"],"sources":["E:/projects/react/ecommerce-demo/src/component/hooks/use-auth.js"],"sourcesContent":["import { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { auth } from \"../../firebase/firebase\";\n\nconst useAuth = () => {\n  const [user, setUser] = useState();\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n\n  const navigate = useNavigate();\n\n  const userAuthHandler = async (userHandler, email, password, nav) => {\n    setError(null);\n    setIsLoading(true);\n\n    try {\n      await userHandler(auth, email, password);\n      setIsLoading(false);\n      navigate(nav);\n    } catch (error) {\n      await setError(error.message);\n      // alert(error.message);\n\n      setIsLoading(false);\n    }\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    const unsubscrib = onAuthStateChanged(auth, (user) => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(null);\n      }\n    });\n\n    return unsubscrib;\n  }, []);\n\n  return {\n    user,\n    error,\n    isLoading,\n    userAuthHandler,\n  };\n};\n\nexport default useAuth;\n\n//  const logOut= async() => {\n\n//   try {\n\n//         await signOut(auth)\n//         navigate('/login')\n\n//        }  catch(error)   {   setError(error.message)  }\n\n//  }\n// const signUp = async(email, password, name) => {\n//       try{\n//         await createUserWithEmailAndPassword(auth, email, password, name);\n//         navigate('/login')\n\n//        }   catch(error)  {\n//         setError(error.meaasge)\n//         alert(error.message)\n//         navigate('/register')\n//       }\n//   }\n\n// //   const signIn= async(email, password) => {\n\n// //     try {\n\n// //       await signInWithEmailAndPassword(auth, email, password);\n// //       navigate('/')\n// //       // setIsLogin(false);\n\n// //      }  catch(error) {\n// //         alert(error.message)\n// //       // setIsLogin(false);\n// //     }\n\n// // }\n"],"mappings":";;AAAA,SAASA,kBAAT,EAA6BC,OAA7B,QAA4C,eAA5C;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,IAAT,QAAqB,yBAArB;;AAEA,MAAMC,OAAO,GAAG,MAAM;EAAA;;EACpB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,EAAhC;EACA,MAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,IAAD,CAA1C;EAEA,MAAMU,QAAQ,GAAGT,WAAW,EAA5B;;EAEA,MAAMU,eAAe,GAAG,OAAOC,WAAP,EAAoBC,KAApB,EAA2BC,QAA3B,EAAqCC,GAArC,KAA6C;IACnER,QAAQ,CAAC,IAAD,CAAR;IACAE,YAAY,CAAC,IAAD,CAAZ;;IAEA,IAAI;MACF,MAAMG,WAAW,CAACV,IAAD,EAAOW,KAAP,EAAcC,QAAd,CAAjB;MACAL,YAAY,CAAC,KAAD,CAAZ;MACAC,QAAQ,CAACK,GAAD,CAAR;IACD,CAJD,CAIE,OAAOT,KAAP,EAAc;MACd,MAAMC,QAAQ,CAACD,KAAK,CAACU,OAAP,CAAd,CADc,CAEd;;MAEAP,YAAY,CAAC,KAAD,CAAZ;IACD;;IACDA,YAAY,CAAC,KAAD,CAAZ;EACD,CAfD;;EAiBAV,SAAS,CAAC,MAAM;IACd,MAAMkB,UAAU,GAAGpB,kBAAkB,CAACK,IAAD,EAAQE,IAAD,IAAU;MACpD,IAAIA,IAAJ,EAAU;QACRC,OAAO,CAACD,IAAD,CAAP;MACD,CAFD,MAEO;QACLC,OAAO,CAAC,IAAD,CAAP;MACD;IACF,CANoC,CAArC;IAQA,OAAOY,UAAP;EACD,CAVQ,EAUN,EAVM,CAAT;EAYA,OAAO;IACLb,IADK;IAELE,KAFK;IAGLE,SAHK;IAILG;EAJK,CAAP;AAMD,CA1CD;;GAAMR,O;UAKaF,W;;;AAuCnB,eAAeE,OAAf,C,CAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}