{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\n\nconst useCart = req => {\n  _s();\n\n  const [items, setItems] = useState({\n    products: [],\n    total: 0,\n    skip: 1,\n    limit: 0\n  });\n  const [loading, setLoading] = useState(true); // جاري التحميل\n\n  const [error, setError] = useState(false); // useCallback()\n\n  const reqData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(req.url, {\n        method: req.method ? req.method : 'GET',\n        body: req.body ? JSON.stringify(req.body) : null,\n        headers: req.headers ? req.headers : {}\n      });\n\n      if (!response.ok) {\n        throw new Error('somthing went wrong!');\n      }\n\n      const data = await response.json();\n      setItems(data);\n    } catch (error) {\n      setError(true);\n    }\n\n    setLoading(false);\n  }, []); // const url = `https://dummyjson.com/products`;\n  //  useEffect(() => {\n  //   reqData();\n  // },[]);\n\n  return {\n    reqData,\n    items,\n    loading,\n    error\n  };\n};\n\n_s(useCart, \"br9TwJmQJZQiatRiJn2zHylTMTY=\");\n\nexport default useCart;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useCart","req","items","setItems","products","total","skip","limit","loading","setLoading","error","setError","reqData","response","fetch","url","method","body","JSON","stringify","headers","ok","Error","data","json"],"sources":["E:/projects/react/e-commerce-react/src/component/hooks/use-cart.js"],"sourcesContent":[" import React, { useCallback, useEffect, useState } from 'react'\n\n const useCart = (req) => {\n\n  const [items, setItems] = useState({\n    products:[],\n    total:0,\n    skip:1,\n    limit:0 });\n  const [loading, setLoading] = useState(true); // جاري التحميل\n  const [error, setError] = useState(false);\n     \n\n  // useCallback()\n\n  const reqData =  useCallback( async () => {\n\n    setLoading(true);\n    setError(null);\n\n     try { \n      const response = await fetch(req.url, {\n        method:req.method? req.method: 'GET',\n        body:req.body? JSON.stringify(req.body):null,\n        headers:req.headers? req.headers: {} })\n\n        if (!response.ok) {  \n          throw new Error('somthing went wrong!'); }  \n          \n        const data = await response.json();\n        setItems(data);\n\n       } catch(error) {  setError(true) }\n\n      setLoading(false)\n  }, [])\n\n  // const url = `https://dummyjson.com/products`;\n\n  //  useEffect(() => {\n  //   reqData();\n  // },[]);\n \n   return {reqData,  items, loading, error }\n}\n\nexport default useCart;\n"],"mappings":";;AAAC,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;;AAEA,MAAMC,OAAO,GAAIC,GAAD,IAAS;EAAA;;EAExB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC;IACjCK,QAAQ,EAAC,EADwB;IAEjCC,KAAK,EAAC,CAF2B;IAGjCC,IAAI,EAAC,CAH4B;IAIjCC,KAAK,EAAC;EAJ2B,CAAD,CAAlC;EAKA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC,CAPwB,CAOsB;;EAC9C,MAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,KAAD,CAAlC,CARwB,CAWxB;;EAEA,MAAMa,OAAO,GAAIf,WAAW,CAAE,YAAY;IAExCY,UAAU,CAAC,IAAD,CAAV;IACAE,QAAQ,CAAC,IAAD,CAAR;;IAEC,IAAI;MACH,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAACb,GAAG,CAACc,GAAL,EAAU;QACpCC,MAAM,EAACf,GAAG,CAACe,MAAJ,GAAYf,GAAG,CAACe,MAAhB,GAAwB,KADK;QAEpCC,IAAI,EAAChB,GAAG,CAACgB,IAAJ,GAAUC,IAAI,CAACC,SAAL,CAAelB,GAAG,CAACgB,IAAnB,CAAV,GAAmC,IAFJ;QAGpCG,OAAO,EAACnB,GAAG,CAACmB,OAAJ,GAAanB,GAAG,CAACmB,OAAjB,GAA0B;MAHE,CAAV,CAA5B;;MAKE,IAAI,CAACP,QAAQ,CAACQ,EAAd,EAAkB;QAChB,MAAM,IAAIC,KAAJ,CAAU,sBAAV,CAAN;MAA0C;;MAE5C,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAT,EAAnB;MACArB,QAAQ,CAACoB,IAAD,CAAR;IAEA,CAZH,CAYI,OAAMb,KAAN,EAAa;MAAGC,QAAQ,CAAC,IAAD,CAAR;IAAgB;;IAEnCF,UAAU,CAAC,KAAD,CAAV;EACH,CApB2B,EAoBzB,EApByB,CAA5B,CAbwB,CAmCxB;EAEA;EACA;EACA;;EAEC,OAAO;IAACG,OAAD;IAAWV,KAAX;IAAkBM,OAAlB;IAA2BE;EAA3B,CAAP;AACF,CA1CA;;GAAMV,O;;AA4CP,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}