{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { onAuthStateChanged, signOut } from 'firebase/auth';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { auth } from '../../firebase/firebase';\n\nconst useAuth = () => {\n  _s();\n\n  const [user, setUser] = useState();\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n\n  const userAuthHandler = async (userHandler, email, password, nav) => {\n    setError(null);\n    setIsLoading(true);\n\n    try {\n      await userHandler(auth, email, password);\n      navigate(nav);\n    } catch (error) {\n      setError(error.message);\n      alert(error.message);\n    }\n\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    const unsubscrib = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(null);\n      }\n    });\n    return unsubscrib;\n  }, []);\n  return {\n    user,\n    error,\n    isLoading,\n    userAuthHandler\n  };\n};\n\n_s(useAuth, \"PIzYPt1B+9HBZEg0Vzv5RI6ghhc=\", false, function () {\n  return [useNavigate];\n});\n\nexport default useAuth; //  const logOut= async() => {\n//   try { \n//         await signOut(auth) \n//         navigate('/login') \n//        }  catch(error)   {   setError(error.message)  }\n//  } \n// const signUp = async(email, password, name) => {\n//       try{ \n//         await createUserWithEmailAndPassword(auth, email, password, name);\n//         navigate('/login')\n//        }   catch(error)  {  \n//         setError(error.meaasge) \n//         alert(error.message)\n//         navigate('/register')    \n//       }\n//   }\n// //   const signIn= async(email, password) => {\n// //     try { \n// //       await signInWithEmailAndPassword(auth, email, password);\n// //       navigate('/')\n// //       // setIsLogin(false);\n// //      }  catch(error) {  \n// //         alert(error.message)   \n// //       // setIsLogin(false);  \n// //     }\n// // }","map":{"version":3,"names":["onAuthStateChanged","signOut","useEffect","useState","useNavigate","auth","useAuth","user","setUser","error","setError","isLoading","setIsLoading","navigate","userAuthHandler","userHandler","email","password","nav","message","alert","unsubscrib"],"sources":["E:/projects/react/ecommerce-demo/src/component/hooks/use-auth.js"],"sourcesContent":["import {  onAuthStateChanged, signOut } from 'firebase/auth';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {auth} from '../../firebase/firebase';\n\n \n\n const useAuth =() => {\n\n   const [user, setUser] = useState();\n   const [error, setError] = useState(null);\n   const [isLoading, setIsLoading] = useState(true);\n\n   const navigate = useNavigate();\n\n   const userAuthHandler= async (userHandler,email, password,nav )   => {\n\n      setError(null);\n      setIsLoading(true);\n\n      try { \n       await userHandler(auth, email, password );\n       navigate(nav)\n\n    } catch(error) {\n        setError(error.message)\n        alert(error.message)\n       }\n       setIsLoading(false);\n   }\n   \n\n\n\n useEffect( () => {\n\n  const unsubscrib = onAuthStateChanged(auth, (user) => {\n\n    if (user) { setUser(user);  }\n\n    else { setUser(null) }\n\n  })\n\n  return unsubscrib;\n\n }, []);\n\n\n  return { \n    user, error,isLoading, userAuthHandler }\n}\n\nexport default useAuth;\n\n//  const logOut= async() => {\n\n//   try { \n\n//         await signOut(auth) \n//         navigate('/login') \n\n//        }  catch(error)   {   setError(error.message)  }\n\n//  } \n// const signUp = async(email, password, name) => {\n  //       try{ \n  //         await createUserWithEmailAndPassword(auth, email, password, name);\n  //         navigate('/login')\n  \n  //        }   catch(error)  {  \n  //         setError(error.meaasge) \n  //         alert(error.message)\n  //         navigate('/register')    \n  //       }\n  //   }\n  \n  // //   const signIn= async(email, password) => {\n  \n  // //     try { \n  \n  // //       await signInWithEmailAndPassword(auth, email, password);\n  // //       navigate('/')\n  // //       // setIsLogin(false);\n  \n  // //      }  catch(error) {  \n  // //         alert(error.message)   \n  // //       // setIsLogin(false);  \n  // //     }\n  \n  // // }\n"],"mappings":";;AAAA,SAAUA,kBAAV,EAA8BC,OAA9B,QAA6C,eAA7C;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAAQC,IAAR,QAAmB,yBAAnB;;AAIC,MAAMC,OAAO,GAAE,MAAM;EAAA;;EAEnB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,EAAhC;EACA,MAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,IAAD,CAA1C;EAEA,MAAMU,QAAQ,GAAGT,WAAW,EAA5B;;EAEA,MAAMU,eAAe,GAAE,OAAOC,WAAP,EAAmBC,KAAnB,EAA0BC,QAA1B,EAAmCC,GAAnC,KAA8C;IAElER,QAAQ,CAAC,IAAD,CAAR;IACAE,YAAY,CAAC,IAAD,CAAZ;;IAEA,IAAI;MACH,MAAMG,WAAW,CAACV,IAAD,EAAOW,KAAP,EAAcC,QAAd,CAAjB;MACAJ,QAAQ,CAACK,GAAD,CAAR;IAEF,CAJC,CAIA,OAAMT,KAAN,EAAa;MACXC,QAAQ,CAACD,KAAK,CAACU,OAAP,CAAR;MACAC,KAAK,CAACX,KAAK,CAACU,OAAP,CAAL;IACA;;IACDP,YAAY,CAAC,KAAD,CAAZ;EACH,CAdD;;EAmBFV,SAAS,CAAE,MAAM;IAEhB,MAAMmB,UAAU,GAAGrB,kBAAkB,CAACK,IAAD,EAAQE,IAAD,IAAU;MAEpD,IAAIA,IAAJ,EAAU;QAAEC,OAAO,CAACD,IAAD,CAAP;MAAiB,CAA7B,MAEK;QAAEC,OAAO,CAAC,IAAD,CAAP;MAAe;IAEvB,CANoC,CAArC;IAQA,OAAOa,UAAP;EAEA,CAZQ,EAYN,EAZM,CAAT;EAeC,OAAO;IACLd,IADK;IACCE,KADD;IACOE,SADP;IACkBG;EADlB,CAAP;AAED,CA5CA;;GAAMR,O;UAMaF,W;;;AAwCpB,eAAeE,OAAf,C,CAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACE;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}